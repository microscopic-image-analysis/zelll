# LAMMPS benchmark setup for comparison with zelll
# these values can be overridden, e.g.:
# $ lmp -in in.zelllbench.txt -var cutoff 10.0 -var repeat 10 -var data atomsinabox.txt

variable cutoff index 10.0
variable repeat index 100
variable data file atomsinabox.txt

# NOTE: LAMMPS allocates memory for max. 2000 neighbors per atom
# NOTE: we'll set it to something more modest for our comparison
variable max_neighbors index 100

units lj
atom_style atomic

boundary f f f
lattice none 1.0
# NOTE: this minimal box will be expanded by read_data
region box block -0.1 0.1 -0.1 0.1 -0.1 0.1
create_box 1 box
# NOTE: data generated by
# NOTE: cargo run --release --example lmp-data -- <n> <seed> > atomsinabox.txt
# NOTE: in order to compare total pair energies between LAMMPS and zelll
# NOTE: if that is not required, `create_atoms` can be used directly
read_data ${data} add merge
thermo_style yaml
mass	 1 1.0
velocity all zero linear

pair_style lj/cut ${cutoff}
pair_coeff 1 1 1.0 1.0

neighbor 0.0 bin
neigh_modify delay 0 every 1 check no one ${max_neighbors}

run ${repeat}
#info memory
